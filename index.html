<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Humanity's Last Survival</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main>
        <canvas id="gameCanvas"></canvas>
        <div id="event-notification-bar" class="hidden">
            <h3 id="event-title"></h3>
            <p id="event-description"></p>
            <div class="progress-bar-container">
                <div id="event-progress-bar"></div>
            </div>
        </div>
    </main>

    <div id="top-ui-container">
        <div id="tip-banner" class="hidden"></div>
        <div id="resource-display">
            <p title="Basic building material. Produced by Woodcutter or Sawmill.">Wood: <span id="wood-count">0</span></p>
            <p title="Used in construction. Mined at the Quarry.">Stone: <span id="stone-count">0</span></p>
            <p title="Consumed by population. Grown on Farms.">Food: <span id="food-count">0</span></p>
            <p title="Refined into Glass. Dug from Sand Pit.">Sand: <span id="sand-count">0</span></p>
            <p title="Needed for advanced housing & research. Made in Glassworks.">Glass: <span id="glass-count">0</span></p>
            <p title="Boosts industry efficiency. Forged at Toolsmith.">Tools: <span id="tools-count">0</span></p>
            <p title="Spent on research. Generated in Research Lab.">Knowledge: <span id="knowledge-count">0</span></p>
            <p title="People / Housing Capacity.">Population: <span id="population-count">0</span>/<span id="population-cap">0</span></p>
            <p title="Idle citizens ready to assign.">Unemployed: <span id="unemployed-workers-count">0</span></p>
            <p title="Affects growth & productivity.">Happiness: <span id="happiness-count">100</span>%</p>
        </div>
        <div id="scenario-panel">
            <h2 id="scenario-title">The First Skyscraper<span id="scenario-toggle-icon">▼</span></h2>
            <ul id="objectives-list"></ul>
        </div>
    </div>

    <aside>
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('build-menu')">Build</button>
            <button class="tab-button" onclick="openTab('research-panel')">Research</button>
            <button class="tab-button" onclick="openTab('settings-panel')">Settings</button>
        </div>

        <div id="build-menu" class="tab-content active"></div>
        <div id="research-panel" class="tab-content"></div>
        <div id="settings-panel" class="tab-content">
            <button id="settings-new-game-button">New Game</button>
        </div>

        <div id="message-box"></div>
    </aside>

    <button id="open-worker-panel-button">Manage Workers</button>

    <div id="selected-building-info" class="hidden">
        <div class="upgrade-header">
            <div class="current-info">
                <img id="upgrade-current-image" alt="Current" />
                <div>
                    <h3 id="upgrade-current-name">Building</h3>
                    <ul id="upgrade-current-stats" class="stat-list"></ul>
                </div>
            </div>
            <button id="upgrade-close-button" title="Close">✕</button>
        </div>
        <div class="upgrade-arrow">➜</div>
        <div id="upgrade-next-wrapper" class="next-info hidden">
            <div class="next-info-inner">
                <img id="upgrade-next-image" alt="Next" />
                <div>
                    <h3 id="upgrade-next-name">Upgrade</h3>
                    <ul id="upgrade-next-benefits" class="stat-list"></ul>
                    <div id="upgrade-costs"></div>
                </div>
            </div>
            <button id="upgrade-button">Upgrade</button>
            <p id="upgrade-requirements" class="requirements"></p>
        </div>
        <div id="no-upgrade-message" class="no-upgrade hidden">No further upgrades available.</div>
    </div>

    <div id="worker-panel-modal" class="hidden">
        <div class="modal-content">
            <h2>Worker Management</h2>
            <ul id="worker-assignments-list"></ul>
            <button id="close-worker-panel-button">Close</button>
        </div>
    </div>

    <div id="stats-panel-modal" class="hidden">
        <div class="modal-content">
            <h2 id="stats-name"></h2>
            <img id="stats-image" src="" alt="Building Image">
            <ul id="stats-list"></ul>
            <button id="close-stats-panel-button">Close</button>
        </div>
    </div>
<script src="config.js"></script>
<script src="data.js"></script>
<script src ="script.js" defer></script>
</body>
</html>